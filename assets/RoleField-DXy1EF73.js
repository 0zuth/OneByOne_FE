import{r as E,j as e,z as x,S as i}from"./index-C8JFuZlv.js";import{B as f}from"./index-DR008vrG.js";import{a as g,b as u,c as h,e as p}from"./index-D7zi7Ntn.js";import{I as C}from"./index-DFQufHV3.js";const R=8,m="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",k=({setValue:t})=>{const[r,s]=E.useState(!1),a=c=>Array.from({length:c},()=>m.charAt(Math.floor(Math.random()*m.length))).join("");return{isRandomNickname:r,handleRandomNickname:()=>{const o=`${a(R)}`;t("nickname",o,{shouldValidate:!0}),s(!0)},handleManualNickname:()=>{t("nickname","",{shouldValidate:!0}),s(!1)}}},y=(t,r)=>x(t&&"border-tertiary-3 !opacity-100",r&&"border-green-normal01"),b=(t,r)=>!t&&!r?null:{src:t?i.CHECK.blue:i.CHECK.green,className:"absolute right-3 top-1/2 -translate-y-1/2"};function A({field:t,fieldState:r,isRandomNickname:s,placeholder:a}){const l=!s&&t.value&&!r.invalid&&!r.error,n=b(s,l),c=y(s,l);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative",children:[e.jsx(C,{className:c,placeholder:a,error:!!r.error,disabled:s,...t}),n&&e.jsx("img",{src:n.src,width:26,height:26,className:n.className})]}),s&&e.jsx("p",{className:"mt-1 text-xs text-tertiary-3",children:"안전한 커뮤니티 운영을 위한 닉네임이 자동으로 만들어졌어요"}),l&&e.jsx("p",{className:"text-green-normal01 mt-1 text-xs",children:"사용 가능한 닉네임입니다."})]})}function F({control:t,name:r,setValue:s,label:a="선생님이 사용하실 닉네임이에요!",placeholder:l="닉네임을 입력해주세요."}){const{isRandomNickname:n,handleRandomNickname:c,handleManualNickname:o}=k({setValue:s});return e.jsx(g,{control:t,name:r,render:({field:N,fieldState:j})=>e.jsxs(u,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(h,{className:"font-semibold text-primary-dark01",children:a}),e.jsx(f,{type:"button",variant:"transparent_gray",font:"sm",size:"sm",onClick:n?o:c,children:e.jsx("p",{children:n?"직접 설정":"랜덤 설정"})})]}),e.jsx(A,{field:N,fieldState:j,isRandomNickname:n,placeholder:l}),e.jsx(p,{})]})})}function d({role:t,isSelected:r,onClick:s,character:a,title:l,description:n}){return e.jsxs("button",{type:"button",onClick:s,className:x("flex w-1/2 flex-col gap-3 rounded-lg px-4 pb-7 pt-5 text-left",r?"bg-tertiary-1 text-primary-dark01 outline outline-1 outline-tertiary-3":"bg-primary-foreground text-primary-normal03"),children:[e.jsx("img",{src:a,alt:`${t} 캐릭터`,width:56,height:56,className:"ml-auto"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("strong",{className:"text-sm font-semibold",children:l}),e.jsx("span",{className:"text-pretty text-xxs",children:n})]})]})}function M({selectedRole:t,onRoleChange:r,label:s="해당되는 역할을 선택해주세요.",error:a}){return e.jsxs(u,{children:[e.jsx(h,{className:"font-semibold text-primary-dark01",children:s}),e.jsxs("div",{className:"flex w-full gap-3",children:[e.jsx(d,{role:"TEACHER",isSelected:t==="TEACHER",onClick:()=>r("TEACHER"),character:i.CHARACTER.chicken,title:"교사예요.",description:"교사 경력을 인증할 수 있어요!"}),e.jsx(d,{role:"PROSPECTIVE_TEACHER",isSelected:t==="PROSPECTIVE_TEACHER",onClick:()=>r("PROSPECTIVE_TEACHER"),character:i.CHARACTER.chick,title:"예비교사예요.",description:"교사를 꿈꾸는, 아직 경력이 없는 사람이에요!"})]}),a&&e.jsx(p,{children:a})]})}export{F as N,M as R};

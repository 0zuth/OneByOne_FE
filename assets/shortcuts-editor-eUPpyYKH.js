import{j as e,S as a,r as m,u as S,a as j,U as d,b as k}from"./index-C8JFuZlv.js";import{P as v}from"./index-DR008vrG.js";import{u as T}from"./useShortcuts-B0hLK3Ba.js";import"./useMetadata-D7nd75QV.js";import"./useMutation-B4GGscfX.js";function C({option:n,isAdded:l,isDisabled:t,onClick:c}){return e.jsxs("button",{onClick:c,disabled:t,className:`flex items-center justify-between rounded-lg px-6 py-3 text-left ${l?"bg-primary-light01 text-primary-dark02 outline outline-1 outline-primary-dark01":t?"opacity-60":"bg-primary-light01 hover:opacity-80"}`,children:[e.jsxs("div",{className:"flex items-center gap-5",children:[e.jsx("img",{src:n.iconName,height:19,width:19}),e.jsx("span",{className:"text-sm",children:n.name})]}),l&&e.jsx("img",{src:a.CHECK.green,height:19,width:19})]})}const E=[{name:"유치원 찾기",iconName:a.SHORTCUT.school,link:"/school"},{name:"게시글 작성",iconName:a.SHORTCUT.community,link:"/community/new"},{name:"예비교사 커뮤니티",iconName:a.CHARACTER.chick,link:"/community?type=pre-teacher"},{name:"교사 커뮤니티",iconName:a.CHARACTER.chicken,link:"/community?type=teacher"},{name:"1:1 문의",iconName:a.INQUIRY,link:"/user/inquiry/new"},{name:"문의내역",iconName:a.QUESTION.BALLOON,link:"/user/inquiry/my"},{name:"나의 리뷰",iconName:a.POST.edit,link:"/user/my-post"}];function A(){const{shortcuts:n,updateShortcuts:l}=T(),[t,c]=m.useState([]),[u,h]=m.useState(!1),{toast:o}=S(),x=j();m.useEffect(()=>{(n==null?void 0:n.length)>0&&c([...n])},[n]);const p=async()=>{if(!t||t.length===0){o({title:"최소 1개 이상의 바로가기를 선택해주세요",variant:"destructive"});return}if(t.length>4){o({title:"바로가기는 최대 4개까지 추가할 수 있습니다",variant:"destructive"});return}try{h(!0),await l(t)&&(o({title:"바로가기가 저장되었습니다"}),x(d.HOME))}catch(s){o({title:"바로가기 저장에 실패했습니다",variant:"destructive"}),console.error("바로가기 저장 실패:",s)}finally{h(!1)}},g=s=>{const r=t.findIndex(i=>i.link===s.link);if(r!==-1){const i=[...t];i.splice(r,1),c(i);return}if(t.length>=4){o({title:"바로가기는 최대 4개까지 추가할 수 있습니다",variant:"destructive"});return}c([...t,{...s}])},f=s=>t.some(r=>r.link===s),y=t.length>=4;return e.jsx(v,{headerLogo:!0,currentPath:d.HOME,headerTitle:"바로가기 편집",wrapperBg:"white",headerType:"save",mainClassName:"flex flex-col gap-4 px-5 py-4 mt-16 mb-24",onSave:u?void 0:p,children:u?e.jsx(k,{}):e.jsxs(e.Fragment,{children:[e.jsxs("section",{className:"flex flex-col gap-1",children:[e.jsxs("h2",{className:"font-bold text-primary-dark02",children:["원바원 바로가기"," ",e.jsxs("span",{className:"text-primary-normal03",children:["(",e.jsx("span",{className:"text-primary-dark02",children:t.length}),"/4)"]})]}),e.jsx("p",{className:"text-xs text-primary-normal03",children:"자주 쓰는 기능을 직접 골라 홈화면에 설정할 수 있어요."})]}),e.jsx("section",{className:"mt-2 flex flex-col gap-3",children:E.map((s,r)=>{const i=f(s.link),N=y&&!i;return e.jsx(C,{option:s,isAdded:i,isDisabled:N,onClick:()=>g(s)},r)})})]})})}export{A as default};

import{j as t,r as d,a as C}from"./index-C8JFuZlv.js";import{s as f,o as S,a as p}from"./types-CfV6Q2Fg.js";import{u as g,F as h,a as x,b as F,d as b,e as j,c as E}from"./index-D7zi7Ntn.js";import{B as T}from"./index-DR008vrG.js";import{I as v}from"./index-DFQufHV3.js";import{c as V,d as y}from"./useAuth-C0xK3gWt.js";const D=S({certification:p().min(1,"인증번호를 입력해주세요.")});function z({email:n,onNext:r}){const{mutate:i,isPending:s}=V(),a=g({resolver:f(D),defaultValues:{certification:""},mode:"onChange"}),c=e=>{i({email:n,certification:e.certification},{onSuccess:o=>{o&&r()}})};return t.jsx(h,{...a,children:t.jsxs("form",{onSubmit:a.handleSubmit(c),className:"flex flex-col gap-6",children:[t.jsx(x,{control:a.control,name:"certification",render:({field:e,fieldState:o})=>t.jsxs(F,{children:[t.jsx(b,{children:t.jsx(v,{placeholder:"인증번호를 입력해주세요.",error:!!o.error,disabled:s,...e})}),t.jsx(j,{})]})}),t.jsx(T,{variant:"secondary",type:"submit",font:"md",disabled:!a.formState.isValid||s,children:"확인"})]})})}const I=S({email:p().email("유효한 이메일 주소를 입력해주세요.")});function M({onNext:n}){const{mutate:r,isPending:i}=y(),s=g({resolver:f(I),defaultValues:{email:""},mode:"onChange"}),a=c=>{r(c.email,{onSuccess:e=>{e&&n(c)}})};return t.jsx(h,{...s,children:t.jsxs("form",{onSubmit:s.handleSubmit(a),className:"flex flex-col gap-6",children:[t.jsx(x,{control:s.control,name:"email",render:({field:c,fieldState:e})=>t.jsxs(F,{children:[t.jsx(E,{children:"이메일"}),t.jsx(b,{children:t.jsx(v,{placeholder:"이메일을 입력해주세요.",error:!!e.error,disabled:i,...c})}),t.jsx(j,{})]})}),t.jsx(T,{variant:"secondary",type:"submit",size:"lg",font:"md",disabled:!s.formState.isValid||i,children:i?"발송 중":"인증번호 발송"})]})})}function _(n={}){const[r,i]=d.useState(n);return{formData:r,updateFormData:o=>{i(l=>({...l,...o}))},resetFormData:()=>{i(n)},getFormValue:o=>r[o],setFormValue:(o,l)=>{i(u=>({...u,[o]:l}))}}}function q({initStep:n,maxStep:r,onExit:i}){const[s,a]=d.useState(n),c=C();return{currentStep:s,goToNextStep:()=>{s<r&&a(m=>m+1)},goToPreviousStep:()=>{s>n?a(m=>m-1):i?i():c(-1)},goToStep:m=>{m>=n&&m<=r&&a(m)},isFirstStep:s===n,isLastStep:s===r}}function A({stepConfigs:n}){const r=e=>n[e]||{title:""};return{getStepConfig:r,getStepTitle:(e,o)=>r(e).title,getStepSubtitle:(e,o)=>{const l=r(e);return l.getSubtitle&&o?l.getSubtitle(o):l.subtitle},shouldShowSignInLink:e=>r(e).showSignInLink,renderStep:(e,o)=>o[e]||null}}export{z as E,_ as a,A as b,M as c,q as u};

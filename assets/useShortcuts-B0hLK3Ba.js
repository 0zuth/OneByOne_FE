import{c as g,r as c,a as y,g as p,d as U,U as E,e as T}from"./index-C8JFuZlv.js";const A=()=>{const[s,u]=g(U),[n,r]=c.useState([]),[h,a]=c.useState(!1),[l,e]=c.useState(null),i=y(),m=async()=>{try{if(a(!0),e(null),!s||!s.homeShortcut){const t=await p();t&&t.homeShortcut&&t.homeShortcut.shortcuts?r(t.homeShortcut.shortcuts):r([{name:"유치원찾기",iconName:"school",link:"/school"},{name:"게시글작성",iconName:"community",link:"/community/new"}])}else r(s.homeShortcut.shortcuts)}catch(t){e("바로가기 정보를 불러오는데 실패했습니다."),console.error("바로가기 로드 실패:",t)}finally{a(!1)}},f=async t=>{try{a(!0),e(null);const o=await T(t);if(o.success){if(r(t),s){const d={...s,homeShortcut:{shortcuts:t}};u(d)}return!0}else return e(o.message||"바로가기 업데이트에 실패했습니다."),!1}catch(o){return e("바로가기 업데이트에 실패했습니다."),console.error("바로가기 업데이트 실패:",o),!1}finally{a(!1)}},S=()=>{i(E.SHORTCUTS_EDITOR)};return c.useEffect(()=>{m()},[s]),{shortcuts:n,isLoading:h,error:l,updateShortcuts:f,navigateToEdit:S}};export{A as u};

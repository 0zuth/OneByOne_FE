import{R as d,r as c,J as R,j as e,o,B as f,S as i,U as w}from"./index-C8JFuZlv.js";import{B as u,P as E}from"./index-DR008vrG.js";import{M as h}from"./MenuItem-Cj9znAk7.js";import{h as O,i as P}from"./useAuth-C0xK3gWt.js";import"./useMetadata-D7nd75QV.js";import"./useMutation-B4GGscfX.js";const A=f("bg-white shadow-lg overflow-hidden transition-all",{variants:{position:{center:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 max-h-[90vh] max-w-[90vw]",bottom:"fixed bottom-0 left-0 right-0 w-full max-h-[90vh]",top:"fixed top-0 left-0 right-0 w-full max-h-[90vh]"},size:{sm:"w-[300px]",md:"w-[400px]",lg:"w-[600px]",full:"w-full"},rounded:{none:"rounded-none",sm:"rounded-sm",md:"rounded-md",lg:"rounded-lg",xl:"rounded-xl",bottom:"rounded-t-xl",top:"rounded-b-xl"}},defaultVariants:{position:"center",size:"md",rounded:"lg"}}),B=f("fixed inset-0 bg-black/50 flex items-center justify-center z-[9999]",{variants:{blur:{none:"",sm:"backdrop-blur-sm",md:"backdrop-blur-md",lg:"backdrop-blur-lg"}},defaultVariants:{blur:"none"}}),V=f("flex items-center",{variants:{align:{left:"justify-start",center:"justify-center",right:"justify-end",between:"justify-between"}},defaultVariants:{align:"between"}}),T=f("flex gap-2 w-full",{variants:{align:{left:"justify-start",center:"justify-center",right:"justify-end",between:"justify-between"}},defaultVariants:{align:"right"}}),U=d.forwardRef(({isOpen:a=!1,onClose:t,hasCloseButton:l=!1,closeOnOverlayClick:s=!0,children:r,className:n,position:m,size:j,rounded:b,overlay:y,...v},N)=>{const[M,x]=c.useState(!1);if(c.useEffect(()=>(a?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[a]),!a||typeof window>"u")return null;const k=()=>x(!1),S=()=>x(!0),C=p=>{!M&&s&&p.target===p.currentTarget&&(t==null||t()),x(!1)};return R.createPortal(e.jsx("div",{className:o(B({blur:y})),onMouseDown:k,onMouseMove:S,onMouseUp:C,"data-testid":"modal-overlay",children:e.jsx("div",{className:o(A({position:m,size:j,rounded:b}),n),ref:N,...v,"data-testid":"modal-content",children:r})}),document.body)}),D=d.forwardRef(({className:a,align:t,hasCloseButton:l,onClose:s,children:r,...n},m)=>e.jsxs("div",{className:o(V({align:t}),a),ref:m,...n,"data-testid":"modal-header",children:[r,l&&e.jsx("button",{onClick:s,className:"ml-auto text-gray-500 hover:text-gray-700","aria-label":"Close","data-testid":"modal-close-button",children:e.jsx("img",{src:i.CANCEL,alt:"닫기"})})]})),L=d.forwardRef(({className:a,children:t,...l},s)=>e.jsx("div",{className:o("overflow-auto",a),ref:s,...l,"data-testid":"modal-content-body",children:t})),I=d.forwardRef(({className:a,align:t,children:l,...s},r)=>e.jsx("div",{className:o(T({align:t}),a),ref:r,...s,"data-testid":"modal-footer",children:l})),g=d.forwardRef(({title:a,children:t,footer:l,className:s,...r},n)=>e.jsxs(U,{position:"center",rounded:"xl",className:o("overflow-hidden",s),ref:n,...r,children:[a&&e.jsx(D,{align:"center",hasCloseButton:r.hasCloseButton,onClose:r.onClose,className:"pb-2 pt-4 text-lg font-medium text-primary-dark02",children:a}),e.jsx(L,{className:"max-h-[50vh] overflow-y-auto p-3 text-primary-dark01",children:t}),l&&e.jsx(I,{align:"center",className:"px-3 py-4",children:l})]}));g.displayName="PopupModal";function W({isOpen:a,onClose:t,onClick:l,setIsSignOutModalOpen:s}){return e.jsx(g,{isOpen:a,onClose:t,className:"text-center",title:"로그아웃 하시겠어요?",footer:e.jsxs("div",{className:"flex flex-1 gap-2",children:[e.jsx(u,{className:"w-full bg-primary-dark02 text-white",onClick:()=>s(!1),children:"취소"}),e.jsx(u,{variant:"secondary",className:"w-full",onClick:l,children:"로그아웃"})]}),children:"언제든지 다시 로그인하실 수 있습니다."})}function _({isOpen:a,onClose:t,onClick:l,setIsWithdrawModalOpen:s}){return e.jsxs(g,{isOpen:a,onClose:t,title:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx("div",{className:"flex h-11 w-11 items-center justify-center rounded-full bg-secondary-light03",children:e.jsx("img",{src:i.ALERT,alt:"경고 아이콘",width:30,height:30})}),e.jsx("p",{className:"font-semibold text-primary-dark02",children:"회원 탈퇴"})]}),className:"text-center",footer:e.jsxs("div",{className:"flex flex-1 gap-2",children:[e.jsx(u,{className:"w-full bg-primary-dark02 text-white",onClick:()=>s(!1),children:"취소"}),e.jsx(u,{variant:"secondary",className:"w-full",onClick:l,children:"탈퇴"})]}),children:["정말로 탈퇴하시겠어요? ",e.jsx("br",{})," 탈퇴 후에는 계정을 복구할 수 없습니다."]})}function K(){const[a,t]=c.useState(!1),[l,s]=c.useState(!1),{mutate:r}=O(),{mutate:n}=P();return e.jsxs(E,{title:"원바원 | 계정 설정",description:"계정 설정 및 관리",headerTitle:"계정 설정",currentPath:w.USER,mainBg:"gray",hasBackButton:!0,mainClassName:"flex flex-col gap-0 pb-5 mt-14 mb-24",children:[e.jsx("section",{className:"flex flex-col gap-4 bg-white p-5 font-bold",children:e.jsxs("menu",{className:"flex flex-col gap-6 text-primary-dark01",children:[e.jsx(h,{iconPath:i.RESET.password,iconAlt:"비밀번호 변경 아이콘",to:w.USER_PASSWORD_EDITOR,label:"비밀번호 변경"}),e.jsx(h,{iconPath:i.LOGOUT,iconAlt:"유저 아이콘",label:"로그아웃",onClick:()=>t(!0)}),e.jsx(h,{iconPath:i.LEAVE,iconAlt:"회원탈퇴 아이콘",label:"회원 탈퇴",onClick:()=>s(!0)})]})}),e.jsx(W,{isOpen:a,onClose:()=>t(!1),onClick:()=>r(),setIsSignOutModalOpen:t}),e.jsx(_,{isOpen:l,onClose:()=>s(!1),onClick:()=>n(),setIsWithdrawModalOpen:s})]})}export{K as default};
